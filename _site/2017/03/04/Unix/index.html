<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Unix 入门</title>
    <meta name="description" content="">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href="/css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href="/css/main.css ">
    <link rel="canonical" href="http://localhost:4000/2017/03/04/Unix/">
    <link rel="alternate" type="application/rss+xml" title="3行代码" href="http://localhost:4000/feed.xml ">


<script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
     var hm = document.createElement("script");
     hm.src = "//hm.baidu.com/hm.js?d9432112fb859bf7276f8399641fb0c5";
     var s = document.getElementsByTagName("script")[0];
     s.parentNode.insertBefore(hm, s);
     })();
    </script>




    <script>
    // google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-85978943-1', 'auto');
      ga('send', 'pageview');

    </script>

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">3行代码</a>
        <small>技术博客</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                
                <li>
                    
                    <a href="/">
                    
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>


                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-heart"></i>About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" post>
    <div class="left">
        <h1>Unix 入门</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2017-03-04
            </div>

            <div class="label-card">
                <i class="fa fa-user"></i>3行代码
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#Unix" title="Category: Unix" rel="category">Unix</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#Unix" title="Tag: Unix" rel="tag">Unix</a-->
        <a href="/tag/#Unix" title="Tag: Unix" rel="tag">Unix</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <ul id="markdown-toc">
  <li><a href="#unix-" id="markdown-toc-unix-">1. Unix 概述</a></li>
  <li><a href="#section" id="markdown-toc-section">2. 文件体系</a>    <ul>
      <li><a href="#section-1" id="markdown-toc-section-1">修改文件权限</a></li>
    </ul>
  </li>
  <li><a href="#section-2" id="markdown-toc-section-2">以下是如何在一行上组合这些命令 -</a></li>
  <li><a href="#pr-" id="markdown-toc-pr-">pr 语法如下:</a>    <ul>
      <li><a href="#section-3" id="markdown-toc-section-3">4. 通信</a></li>
      <li><a href="#vim" id="markdown-toc-vim">5. VIM</a>        <ul>
          <li><a href="#section-4" id="markdown-toc-section-4">操作模式</a></li>
          <li><a href="#vi" id="markdown-toc-vi">保存 VI</a></li>
          <li><a href="#vi-1" id="markdown-toc-vi-1">退出 VI:</a></li>
          <li><a href="#section-5" id="markdown-toc-section-5">重命名:</a></li>
          <li><a href="#section-6" id="markdown-toc-section-6">在文本中移动光标:</a></li>
        </ul>
      </li>
      <li><a href="#section-7" id="markdown-toc-section-7">5. 常用命令汇集</a></li>
    </ul>
  </li>
</ul>

<blockquote>

  <p>作为一名 iOS 老司机,要想工作效率高,那么 Unix 则是必须要熟悉的.今天开挂直接原滋原味的看英语版.</p>

</blockquote>

<p>说起脚本,就得说脚本的通用性,说起通用性,就得说常见的操作系统: OS X \ Linux \ Windows \ Unix
简单介绍下异同:</p>

<ul>
  <li>BellLAB 发明了 Unix (还有 C);</li>
  <li>Unix 的 GUI 是 X Window(在内核外跑的应用),包括X Server(与内核通信)与X Client(负责显示)两部分;</li>
  <li>OS X 的 GUI 是自己开发的 Aqua(嵌入内核中) ,而内核则是基于Darwin(Unix + BSD);</li>
  <li>OS X 是全新设计的,和 OS (Mach内核)不同, OS 不是基于 Unix 的;</li>
  <li>Linux 一开始就是免费开源的,基于 Unix.</li>
</ul>

<p>以上是 Unix 派的,下边的 Windows 则是 DOS + NT 系的:</p>

<ul>
  <li>Windows 则是 DOS + NT 内核;</li>
  <li>Windows 使用反斜杠: \ 分割路径,原因在于其来自 DOS 最初支持软盘,使用斜杠: /  表示命令参数起始符号</li>
  <li>Unix 使用斜杠:/分割路径</li>
</ul>

<p>快要扯到另一篇 Shell 文章了…</p>

<p>下边回归正文:</p>

<h3 id="unix-">1. Unix 概述</h3>

<p><img src="https://www.tutorialspoint.com/unix/images/unix_architecture.jpg" alt="" /></p>

<p>以前笔记本经常遇到的 CPU 被 kernel_task 占据大量的空间,当时不清楚这家伙干嘛的,从这张图中看明白了,真的是系统任务.</p>

<ul>
  <li>用户通过 shell 程序与内核通信。shell是一个命令行解释器; 它翻译由用户输入的命令，并将它们转换为内核理解的语言。</li>
  <li>Unix 的变体有: Solaris Unix,AIX,HP Unix,BSD以及 Linux 等等。Linux由一群AT＆T员工Ken Thompson，Dennis Ritchie，Douglas McIlroy和Joe Ossanna在贝尔实验室开发的。</li>
</ul>

<p>Unix的所有版本集成的主要概念是以下四个基础：</p>

<ul>
  <li>
    <p>内核 : 内核是操作系统的核心。它与硬件和大多数任务（如内存管理，任务调度和文件管理）交互。</p>
  </li>
  <li>
    <p>Shell : shell 是处理请求的实用程序。当在终端上键入命令时，shell会解释该命令并调用所需的程序。shell对所有命令使用标准语法。C Shell，Bourne Shell和Korn Shell是大多数Unix版本中最有名的shell。</p>
  </li>
  <li>
    <p>命令和实用程序 : 有各种命令和实用程序。cp，mv，cat和grep等是命令和实用程序的几个例子。</p>
  </li>
  <li>
    <p>文件和目录 : Unix的所有数据都组织成文件。然后将所有文件组织到目录中。这些目录进一步组织成称为文件系统的树状结构。</p>
  </li>
</ul>

<h3 id="section">2. 文件体系</h3>

<p>Unix中的每个文件都有以下属性</p>

<ul>
  <li>
    <p>所有者权限  所有者的权限决定文件所有者可对文件执行的操作。</p>
  </li>
  <li>
    <p>组权限    组的权限决定了用户，文件所属组的成员可以对文件执行哪些操作。</p>
  </li>
  <li>
    <p>其他权限  其他人的权限指示所有其他用户可对文件执行的操作。</p>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>$ls -l /home/amrood
-rwxr-xr--  1 amrood   users 1024  Nov 2 00:10  myfile
drwxr-xr--- 1 amrood   users 1024  Nov 2 00:10  mydir
</code></pre>
</div>
<p>第一列表示不同的访问模式,权限被分成三组(所有者,组,其他人权限 )，权限：read（r），write（w），execute（x）
-rwxr-xr–  表示(2-4)所有者权限: rwx ,(5-7)组权限: xr ,(8-10)其他人权限: r</p>

<h5 id="section-1">修改文件权限</h5>

<p>chmod（change mode）命令。有两种方式使用chmod - 符号模式和绝对模式</p>

<ul>
  <li>
    <p>符号模式</p>
  </li>
  <li>
    <p>添加权限, - - 删除权限 = 设置指定权限
```
$chmod o+wx testfile
$ls -l testfile
-rwxrwxrwx  1 amrood   users 1024  Nov 2 00:10  testfile
$chmod u-x testfile
$ls -l testfile
-rw-rwxrwx  1 amrood   users 1024  Nov 2 00:10  testfile
$chmod g = rx testfile
$ls -l testfile
-rw-r-xrwx  1 amrood   users 1024  Nov 2 00:10  testfile</p>
  </li>
</ul>

<h1 id="section-2">以下是如何在一行上组合这些命令 -</h1>

<p>$chmod o+wx,u-x,g = rx testfile
$ls -l testfile
-rw-r-xrwx  1 amrood   users 1024  Nov 2 00:10  testfile</p>
<div class="highlighter-rouge"><pre class="highlight"><code>
- 绝对模式

</code></pre>
</div>
<p>数   八进制权限表示    参考文献
0   没有权限          — —
1   执行权限              - X
2   写权限              -w-
3   执行和写入权限    1（执行）+ 2（写）= 3  -wx
4   读取权限            r–
5   读取和执行权限     4（读取）+ 1（执行）= 5 rx
6   读写权限        4（读）+ 2（写）= 6  rw-
7   所有权限       4（读）+ 2（写）+ 1（执行）= 7   rwx</p>
<div class="highlighter-rouge"><pre class="highlight"><code></code></pre>
</div>
<p>$ls -l testfile
-rwxrwxr–  1 amrood   users 1024  Nov 2 00:10  testfile
然后修改:
$ chmod 755 testfile
$ls -l testfile
-rwxr-xr-x  1 amrood   users 1024  Nov 2 00:10  testfile
$chmod 743 testfile
$ls -l testfile
-rwxr—wx  1 amrood   users 1024  Nov 2 00:10  testfile
$chmod 043 testfile
$ls -l testfile
—-r—wx  1 amrood   users 1024  Nov 2 00:10  testfile</p>
<div class="highlighter-rouge"><pre class="highlight"><code>[更多参见](https://www.tutorialspoint.com/unix/unix-file-permission.htm)
......


##### PATH 

PATH变量指定shell应查找命令的位置。通常Path变量设置如下 

$PATH=/bin:/usr/bin

这里，用冒号字符（:)分隔的每个单独的条目是目录

##### 打印文件

- 使用 pr 

$pr 文件 即可打印文件的内容
</code></pre>
</div>
<h1 id="pr-">pr 语法如下:</h1>
<p>pr option(s) filename(s)</p>

<p>-k 产生 K 列输出 $pr -k txt.txt 
等等 ..</p>
<div class="highlighter-rouge"><pre class="highlight"><code>
- 使用 cat 

$cat txt.txt 

### 3. 进程

操作系统通过称为pid或进程ID的五位ID号跟踪进程。系统中的每个进程都有一个唯一的pid。

通过运行ps（process status）命令很容易看到你自己的进程，如下所示
</code></pre>
</div>
<p>$ps
PID       TTY      TIME        CMD
18358     ttyp3    00:00:00    sh
18361     ttyp3    00:01:31    abiword
18789     ttyp3    00:00:00    ps
```
-f（f为full）选项 <code class="highlighter-rouge">$ps -f</code> 精细显示</p>

<h3 id="section-3">4. 通信</h3>

<p>$ping 该命令发送回送请求到网络上可用的主机。使用此命令，您可以检查远程主机是否响应良好。</p>

<p><code class="highlighter-rouge">$ping hostname or ip-address</code></p>

<h3 id="vim">5. VIM</h3>

<ul>
  <li>$vi filename      如果新文件已经不存在，则创建新文件，否则打开现有文件</li>
  <li>$vi -R filename   以只读模式打开现有文件。</li>
  <li>$view filename    只读模式打开</li>
</ul>

<h5 id="section-4">操作模式</h5>

<ul>
  <li>命令模式 - 此模式允许您执行管理任务，例如保存文件，执行命令，移动光标，剪切（ying）和粘贴线或单词，以及查找和替换。在这种模式下，无论你输入什么都被解释为一个命令。</li>
  <li>插入模式 - 此模式允许您将文本插入文件。在此模式下键入的所有内容都将被解释为输入并放在文件中。</li>
</ul>

<p>vi始终在命令模式下启动。要输入文本，您必须处于插入模式，只需输入i。要退出插入模式，请按Esc键，这将使您返回命令模式。
如果您不确定您所处的模式，请按Esc键两次; 这将带你到命令模式。使用vi编辑器打开文件</p>

<h5 id="vi">保存 VI</h5>

<ul>
  <li>ESC 进入命令模式，键入冒号和w,即可保存</li>
  <li>ESC 进入命令模式，键入’冒号和’wq’, 或者键入’冒号和’zz’   然后回车.这时会保存退出 .</li>
</ul>

<h5 id="vi-1">退出 VI:</h5>

<ul>
  <li>ESC 进入命令模式，键入冒号和’q’,然后回车.这时会提示保存.</li>
  <li>ESC 进入命令模式，键入冒号和’q!’,然后回车.这时会直接退出,不进行提示.</li>
</ul>

<h5 id="section-5">重命名:</h5>

<ul>
  <li>ESC 进入命令模式，键入’冒号和’w filename2’和return .</li>
</ul>

<h5 id="section-6">在文本中移动光标:</h5>

<p>要在文件中移动而不影响文本，您必须处于命令模式（按两次Esc）。下表列出了几个可用于一次移动一个字符的命令：</p>

<ul>
  <li>k 将光标向上移动一行</li>
  <li>j 将光标向下移动一行</li>
  <li>h    将光标移动到左一个字符位置</li>
  <li>l  将光标向右移动一个字符位置</li>
</ul>

<p><a href="https://www.tutorialspoint.com/unix/unix-vi-editor.htm">更多参见</a></p>

<h3 id="section-7">5. 常用命令汇集</h3>

<ul>
  <li>$passwd 修改当前用户的密码</li>
  <li>$cal   显示日历</li>
  <li>$date  显示日期</li>
  <li>$ls    列出当前文件夹的内容</li>
  <li>$ls -l 在ls 基础上列出详细信息 (其中以 d …..开头的项表示目录)</li>
  <li>$ls -l 列出权限信息</li>
  <li>$whoami 获取当前是哪个用户登录的</li>
  <li>$who    当前用户信息</li>
  <li>$users  当前用户信息</li>
  <li>$logout     注销</li>
  <li>$halt       立即关机</li>
  <li>$init 0     在关闭系统之前，使用预定义的脚本关闭系统以同步和清理系统</li>
  <li>$init 6     系统完全关闭然后重新启动，重新启动系统</li>
  <li>$poweroff   通过关闭电源关闭系统</li>
  <li>$reboot     重启</li>
  <li>$shutdown   关闭系统</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>$</li>
  <li>
    <p>$</p>
  </li>
  <li><a href="http://tldp.org/LDP/abs/html/opprecedence.html">高级Bash脚本指南</a></li>
  <li><a href="http://tldp.org/LDP/abs/html/">高级Bash脚本指南</a></li>
  <li><a href="http://www.tutorialspoint.com/unix/unix-shell.htm">Unix   Shell教程 英语</a></li>
  <li><a href="https://bash.cyberciti.biz/guide/Main_Page">Linux  Shell教程 英语</a></li>
</ul>


        </article>
        <hr>

        
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
        

        <div class="post-recent">
    <div class="pre">
        
        <p><strong>上一篇</strong> <a href="/2017/03/04/Shell-oneDay/">Shell 脚本</a></p>
        
    </div>
    <div class="nex">

        
    </div>
</div>


        <h2 id="comments">评论</h2>
        
<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="http://localhost:4000/2017/03/04/Unix/" data-title="Unix 入门" data-url="http://localhost:4000/2017/03/04/Unix/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    var duoshuoQuery = {
        short_name: "mythkiven"
    };
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';
        ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->






    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    内容
                </div>
                <ul id="content-side" class="content-ul">
                    <li><a href="#similar_posts">相似文章</a></li>
                    <li><a href="#comments">评论</a></li>
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <!-- <div class="side">bbbb</div> -->
        </div>
    </div>
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
             3行代码的技术博客 
        </p>
        <p class="contact">
            Contact me at:  
            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>   -->
<!--            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>-->
<!--            <a href="mailto:mythziven@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>        -->


        </p>
        <p>
            本站总访问量<span id="busuanzi_value_site_pv"></span>次，本站访客数<span id="busuanzi_value_site_uv"></span>人次，本文总阅读量<span id="busuanzi_value_page_pv"></span>次
        </p>
        <p class="power">
        
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>

          <!--   <span>
                Theme designed by <a href="https://github.com/mythkiven">MyKiven</a>.
            </span> -->

        </p>
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
